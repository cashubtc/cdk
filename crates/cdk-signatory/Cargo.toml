[package]
name = "cdk-signatory"
version = "0.9.2"
edition = "2021"
description = "CDK signatory default implementation"

[features]
default = ["grpc"]
sqlcipher = ["cdk-sqlite/sqlcipher"]
redb = ["dep:cdk-redb"]
grpc = ["dep:tonic", "tokio/full", "dep:prost", "dep:tonic-build"]

[dependencies]
async-trait.workspace = true
cashu.workspace = true
bitcoin.workspace = true
cdk-common = { workspace = true, default-features=false, features = [
    "mint", "auth",
] }
tokio = { workspace = true, features = ["full"] }
tonic = { workspace = true, optional = true }
prost = { workspace = true, optional = true }

# main.rs dependencies
anyhow.workspace = true
cdk-sqlite = { workspace = true, features = ["mint", "auth"] }
cdk-redb = { workspace = true, features = ["mint", "auth"], optional = true }
clap = { workspace = true }
bip39.workspace = true
home.workspace = true
tracing.workspace = true
thiserror.workspace = true
tracing-subscriber.workspace = true

[build-dependencies]
tonic-build = { workspace = true, features = ["prost"], optional = true }
